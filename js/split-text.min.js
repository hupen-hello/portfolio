
//SPLITTEXT

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function t(e){return u.getComputedStyle(e)}function i(e,t){var i;return _(e)?e:"string"==(i=typeof e)&&!t&&e?v.call(c.querySelectorAll(e),0):e&&"object"==i&&"length"in e?v.call(e,0):e?[e]:[]}function n(e){return"absolute"===e.position||!0===e.absolute}function s(e,t){for(var i,n=t.length;-1<--n;)if(i=t[n],e.substr(0,i.length)===i)return i.length}function r(e,t){void 0===e&&(e="");var i=~e.indexOf("++"),n=1;return i&&(e=e.split("++").join("")),function(){return"<"+t+" style='position:relative;display:inline-block;'"+(e?" class='"+e+(i?n++:"")+"'>":">")}}function l(e,t,i){var n=e.nodeType;if(1===n||9===n||11===n)for(e=e.firstChild;e;e=e.nextSibling)l(e,t,i);else 3!==n&&4!==n||(e.nodeValue=e.nodeValue.split(t).join(i))}function o(e,t){for(var i=t.length;-1<--i;)e.push(t[i])}function a(e,t,i){for(var n;e&&e!==t;){if(n=e._next||e.nextSibling)return n.textContent.charAt(0)===i;e=e.parentNode||e._parent}}function d(e){var t,n,s=i(e.childNodes),r=s.length;for(t=0;t<r;t++)(n=s[t])._isSplit?d(n):(t&&3===n.previousSibling.nodeType?n.previousSibling.nodeValue+=3===n.nodeType?n.nodeValue:n.firstChild.nodeValue:3!==n.nodeType&&e.insertBefore(n.firstChild,n),e.removeChild(n))}function p(e,t){return parseFloat(t[e])||0}function h(e,i,s,r,h,f,u){var g,x,y,_,v,$,b,C,S,N,m,T,w=t(e),L=p("paddingLeft",w),A=-999,B=p("borderBottomWidth",w)+p("borderTopWidth",w),W=p("borderLeftWidth",w)+p("borderRightWidth",w),H=p("paddingTop",w)+p("paddingBottom",w),V=p("paddingLeft",w)+p("paddingRight",w),E=.2*p("fontSize",w),O=w.textAlign,R=[],j=[],M=[],k=i.wordDelimiter||" ",D=i.tag?i.tag:i.span?"span":"div",F=i.type||i.split||"chars,words,lines",P=h&&~F.indexOf("lines")?[]:null,q=~F.indexOf("words"),z=~F.indexOf("chars"),G=n(i),I=i.linesClass,J=~(I||"").indexOf("++"),K=[];for(J&&(I=I.split("++").join("")),y=(x=e.getElementsByTagName("*")).length,v=[],g=0;g<y;g++)v[g]=x[g];if(P||G)for(g=0;g<y;g++)(($=(_=v[g]).parentNode===e)||G||z&&!q)&&(T=_.offsetTop,P&&$&&Math.abs(T-A)>E&&("BR"!==_.nodeName||0===g)&&(b=[],P.push(b),A=T),G&&(_._x=_.offsetLeft,_._y=T,_._w=_.offsetWidth,_._h=_.offsetHeight),P&&((_._isSplit&&$||!z&&$||q&&$||!q&&_.parentNode.parentNode===e&&!_.parentNode._isSplit)&&(b.push(_),_._x-=L,a(_,e,k)&&(_._wordEnd=!0)),"BR"===_.nodeName&&(_.nextSibling&&"BR"===_.nextSibling.nodeName||0===g)&&P.push([])));for(g=0;g<y;g++)$=(_=v[g]).parentNode===e,"BR"!==_.nodeName?(G&&(S=_.style,q||$||(_._x+=_.parentNode._x,_._y+=_.parentNode._y),S.left=_._x+"px",S.top=_._y+"px",S.position="absolute",S.display="block",S.width=_._w+1+"px",S.height=_._h+"px"),!q&&z?_._isSplit?(_._next=_.nextSibling,_.parentNode.appendChild(_)):_.parentNode._isSplit?(_._parent=_.parentNode,!_.previousSibling&&_.firstChild&&(_.firstChild._isFirst=!0),_.nextSibling&&" "===_.nextSibling.textContent&&!_.nextSibling.nextSibling&&K.push(_.nextSibling),_._next=_.nextSibling&&_.nextSibling._isFirst?null:_.nextSibling,_.parentNode.removeChild(_),v.splice(g--,1),y--):$||(T=!_.nextSibling&&a(_.parentNode,e,k),_.parentNode._parent&&_.parentNode._parent.appendChild(_),T&&_.parentNode.appendChild(c.createTextNode(" ")),"span"===D&&(_.style.display="inline"),R.push(_)):_.parentNode._isSplit&&!_._isSplit&&""!==_.innerHTML?j.push(_):z&&!_._isSplit&&("span"===D&&(_.style.display="inline"),R.push(_))):P||G?(_.parentNode&&_.parentNode.removeChild(_),v.splice(g--,1),y--):q||e.appendChild(_);for(g=K.length;-1<--g;)K[g].parentNode.removeChild(K[g]);if(P){for(G&&(N=c.createElement(D),e.appendChild(N),m=N.offsetWidth+"px",T=N.offsetParent===e?0:e.offsetLeft,e.removeChild(N)),S=e.style.cssText,e.style.cssText="display:none;";e.firstChild;)e.removeChild(e.firstChild);for(C=" "===k&&(!G||!q&&!z),g=0;g<P.length;g++){for(b=P[g],(N=c.createElement(D)).style.cssText="display:block;text-align:"+O+";position:"+(G?"absolute;":"relative;"),I&&(N.className=I+(J?g+1:"")),M.push(N),y=b.length,x=0;x<y;x++)"BR"!==b[x].nodeName&&(_=b[x],N.appendChild(_),C&&_._wordEnd&&N.appendChild(c.createTextNode(" ")),G&&(0===x&&(N.style.top=_._y+"px",N.style.left=L+T+"px"),_.style.top="0px",T&&(_.style.left=_._x-T+"px")));0===y?N.innerHTML="&nbsp;":q||z||(d(N),l(N,"\xa0"," ")),G&&(N.style.width=m,N.style.height=_._h+"px"),e.appendChild(N)}e.style.cssText=S}G&&(u>e.clientHeight&&(e.style.height=u-H+"px",e.clientHeight<u&&(e.style.height=u+B+"px")),f>e.clientWidth&&(e.style.width=f-V+"px",e.clientWidth<f&&(e.style.width=f+W+"px"))),o(s,R),q&&o(r,j),o(h,M)}function f(e,r,o,a){var d,p,h=i(e.childNodes),u=h.length,g=n(r);if(3!==e.nodeType||1<u){for(r.absolute=!1,d=0;d<u;d++)(3!==(p=h[d]).nodeType||/\S+/.test(p.nodeValue))&&(g&&3!==p.nodeType&&"inline"===t(p).display&&(p.style.display="inline-block",p.style.position="relative"),p._isSplit=!0,f(p,r,o,a));return r.absolute=g,void(e._isSplit=!0)}!function e(t,i,r,o){var a,d,p,h,f,u,g,_,v=i.tag?i.tag:i.span?"span":"div",$=~(i.type||i.split||"chars,words,lines").indexOf("chars"),b=n(i),C=i.wordDelimiter||" ",S=" "!==C?"":b?"&#173; ":" ",N="</"+v+">",m=1,T=i.specialChars?"function"==typeof i.specialChars?i.specialChars:s:null,w=c.createElement("div"),L=t.parentNode;for(L.insertBefore(w,t),w.textContent=t.nodeValue,L.removeChild(t),g=-1!==(a=function e(t){var i=t.nodeType,n="";if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=e(t)}else if(3===i||4===i)return t.nodeValue;return n}(t=w)).indexOf("<"),!1!==i.reduceWhiteSpace&&(a=a.replace(y," ").replace(x,"")),g&&(a=a.split("<").join("{{LT}}")),f=a.length,d=(" "===a.charAt(0)?S:"")+r(),p=0;p<f;p++)if(u=a.charAt(p),T&&(_=T(a.substr(p),i.specialChars)))u=a.substr(p,_||1),d+=$&&" "!==u?o()+u+"</"+v+">":u,p+=_-1;else if(u===C&&a.charAt(p-1)!==C&&p){for(d+=m?N:"",m=0;a.charAt(p+1)===C;)d+=S,p++;p===f-1?d+=S:")"!==a.charAt(p+1)&&(d+=S+r(),m=1)}else"{"===u&&"{{LT}}"===a.substr(p,6)?(d+=$?o()+"{{LT}}</"+v+">":"{{LT}}",p+=5):55296<=u.charCodeAt(0)&&56319>=u.charCodeAt(0)||65024<=a.charCodeAt(p+1)&&65039>=a.charCodeAt(p+1)?(h=((a.substr(p,12).split("")||[])[1]||"").length||2,d+=$&&" "!==u?o()+a.substr(p,h)+"</"+v+">":a.substr(p,h),p+=h-1):d+=$&&" "!==u?o()+u+"</"+v+">":u;t.outerHTML=d+(m?N:""),g&&l(L,"{{LT}}","<")}(e,r,o,a)}var c,u,g,x=/(?:\r|\n|\t\t)/g,y=/(?:\s\s+)/g,_=(function e(){return String.fromCharCode.apply(null,arguments)}(103,114,101,101,110,115,111,99,107,46,99,111,109),Array.isArray),v=[].slice,$=function(){function e(e,t){g||(c=document,u=window,g=1),this.elements=i(e),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=t||{},this.split(t)}var t=e.prototype;return t.split=function e(t){this.isSplit&&this.revert(),this.vars=t=t||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var i,n,s,l=this.elements.length,o=t.tag?t.tag:t.span?"span":"div",a=r(t.wordsClass,o),d=r(t.charsClass,o);-1<--l;)s=this.elements[l],this._originals[l]=s.innerHTML,i=s.clientHeight,n=s.clientWidth,f(s,t,a,d),h(s,t,this.chars,this.words,this.lines,n,i);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},t.revert=function e(){var t=this._originals;if(!t)throw"revert() call wasn't scoped properly.";return this.elements.forEach(function(e,i){return e.innerHTML=t[i]}),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},e.create=function t(i,n){return new e(i,n)},e}();$.version="3.0.0",e.SplitText=$,e.default=$,Object.defineProperty(e,"__esModule",{value:!0})});